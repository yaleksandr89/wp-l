## Вопросы по уроку ##

### Верхний слайдер ###

> [get-sliders.php](https://github.com/yaleksandr89/wp-l/blob/master/wp-content/themes/wplanding/includes/functions-modules/get-sliders.php)

Не слишком ли заморочился :) ? Имею ввиду - у кастомного типа записи "Слайдеры", добавил таксономию (для фильтра): "Расположение". 

При создание слайдов указывается расположение и 
в необходимом месте применяется фильтр: `<?php $front_slider = apply_filters( 'wplanding_get_sliders', 'Главная страница', 999, 10, 2 ); ?>`. 

В одном из параметров указывается нужное расположение и производиться фильтрация. Есть ли способ оптимизировать?

### Вывод произвольных постов ### 

Мне понравилась идея вывода поста без использования wp_setupdate (не считая вывода на страницах одиночных записей или страницы блога). 

Фактически у меня под каждый созданный пользовательский тип записи созданы свои "хелперы":

* get-articles.php
* get-features.php
* get-reviews.php
* get-sliders.php

Но при написание этих функций не покидала мысль - не много ли хелперов :) (под каждый тип записи - свой). Можно ли отрефакторить?

Среди этих хелперов есть достаточно "мудренные" (получение информации в слайдере), но остальные достаточно однотипны...

Имеет ли смысл объединять их или впринципе такой вариант приемлим (дабы не ступить на путь говнокодинга :) )

### Главная страница ###

> [home.php](https://github.com/yaleksandr89/wp-l/blob/master/wp-content/themes/wplanding/templates/home.php)

Изначально вся страница была в одном файле, но потом решил их разбить разбить. Такой вариант приемлем? 

Засомневался по причине того, что сам шаблон (`home.php`) лежит в директории и он же, в свою очередь, подключает блоки из поддиректории.

Не скажется ли такая "матрешка" на производительности / загрузке странице или ещё где-то о_О

### Контактная форма ###

При реализации контактной формы, не смог реализовать доп.функциона. Отправка письма на почту, постоянно ловил 500 ошибку: `POST http://wp-l.loc/wp-admin/admin-ajax.php 500 (Internal Server Error)`. 

В блоке:

```php
else {
    $post_data = array(
        'post_title' => wp_strip_all_tags( "$name - $phone" ),
        'post_type'  => 'form-request'
    );

    $post_id = wp_insert_post( $post_data, true );

    if ( is_wp_error( $post_id ) ) {
        $response['error'] = $post_id->get_error_message();
    } else {
        $response['result'] = true;
    }
}
```
Пытался добавить, что-то вроде:

```php
// Кому отправляем
$to = 'you@yourdomain.com';
// Тема письма
$subject = 'Проверка wp_mail';
// Само сообщение
$message = 'Это тестовое сообщение';
// Отправляем письмо
$sent_message = wp_mail( $to, $subject, $message );
```

После чего получал ошибку :(


Если вас не затруднит, могли бы показать примерчик с отправкой данных, которые будет добавлены в БД (CPT: form-request) 

### Блок Тарифы (Affordable Packages) ###

Большинство блоков на главной странице реализовал через кастомайзер. Но особенную "боль" доставил блок Affordable Packages :)

Не считая того, что описание полей в кастомайзере заняло 1000+ строк :) ([front-page-packages.php](https://github.com/yaleksandr89/wp-l/blob/master/wp-content/themes/wplanding/includes/customizer/parts/front-page-packages.php), не считая js для изменения в реалтайме и вывода в файле).

Насчет катомайзера, помню, выговорили, что будет бонусом, но тут мне больше интересен вопрос "хорошей практики" реализации подобных блоков.

Я рассуждал так. ПОдобные разделы меняются достатоно редко (имею ввиду изменение тарифов в целом), максимум - изменить цену, включенную/исключенную услугу из тарифа. Соответственно: 

* Создавать кастомный тп записи - избыточно
* Запихивать в виджет html-код - банально :)
* Вот кастомайзер мне показался хорошим решением, но времени на него затратил уйму.

На ваш взгляд подобные блоки, как правильнее всего реализовывать (с точки зрения - КПД к потраченному времени)